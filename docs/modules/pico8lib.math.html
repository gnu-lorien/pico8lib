<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>pico8lib</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>pico8lib</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Local_Functions">Local Functions</a></li>
<li><a href="#Roots">Roots </a></li>
<li><a href="#Distance">Distance </a></li>
<li><a href="#Trigonometry">Trigonometry </a></li>
<li><a href="#Interpolation">Interpolation </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/pico8lib.class.html">pico8lib.class</a></li>
  <li><a href="../modules/pico8lib.functions.html">pico8lib.functions</a></li>
  <li><a href="../modules/pico8lib.graphics.html">pico8lib.graphics</a></li>
  <li><a href="../modules/pico8lib.json.html">pico8lib.json</a></li>
  <li><a href="../modules/pico8lib.log.html">pico8lib.log</a></li>
  <li><strong>pico8lib.math</strong></li>
  <li><a href="../modules/pico8lib.memory.html">pico8lib.memory</a></li>
  <li><a href="../modules/pico8lib.number.html">pico8lib.number</a></li>
  <li><a href="../modules/pico8lib.physics.html">pico8lib.physics</a></li>
  <li><a href="../modules/pico8lib.rational.html">pico8lib.rational</a></li>
  <li><a href="../modules/pico8lib.strings.html">pico8lib.strings</a></li>
  <li><a href="../modules/pico8lib.tables.html">pico8lib.tables</a></li>
  <li><a href="../modules/pico8lib.test.html">pico8lib.test</a></li>
  <li><a href="../modules/pico8lib.uint32.html">pico8lib.uint32</a></li>
  <li><a href="../modules/pico8lib.vector.html">pico8lib.vector</a></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/README.md.html">README</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/snippets.p8.html">snippets.p8</a></li>
  <li><a href="../examples/test_class.p8.html">test_class.p8</a></li>
  <li><a href="../examples/test_functions.p8.html">test_functions.p8</a></li>
  <li><a href="../examples/test_json.p8.html">test_json.p8</a></li>
  <li><a href="../examples/test_test.p8.html">test_test.p8</a></li>
  <li><a href="../examples/class.p8.html">class.p8</a></li>
  <li><a href="../examples/log.p8.html">log.p8</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>pico8lib.math</code></h1>
<p>Mathematical operations, mostly on numbers</p>
<p>

</p>


<h2><a href="#Local_Functions">Local Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#gcd_recursive">gcd_recursive (a, b)</a></td>
	<td class="summary">Return the greatest common divisor of two numbers
 This implementation uses recursion</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#gcd">gcd (a, b)</a></td>
	<td class="summary">Return the greatest common divisor of two numbers
 This implementation is iterative</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#lcm">lcm (a, b)</a></td>
	<td class="summary">Return the least common multiple of two numbers</td>
	</tr>
</table>
<h2><a href="#Roots">Roots </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#nthroot">nthroot (n, x)</a></td>
	<td class="summary">Calculate the nth root of x
 <code>nthroot(3,8)==2</code> because <code>2^3==8</code>
 All versions start with a guess based on the built in ^ operator
 This version performs newton's method until a convergent result or short loop is found
 Very accurate</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nthroot_short">nthroot_short (n, x)</a></td>
	<td class="summary">Calculate the nth root of x
 This version performs newton's method exactly 4 times
 Relatively accurate</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nthroot_fast">nthroot_fast (n, x)</a></td>
	<td class="summary">Calculate the nth root of x
 This version performs newton's method exactly once, only for positive x
 Least accurate, still much better than built in ^ operator alone</td>
	</tr>
</table>
<h2><a href="#Distance">Distance </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#dist">dist (x, y)</a></td>
	<td class="summary">Distance to a point
 Uses <a href="../modules/pico8lib.math.html#dist_naive">dist_naive</a> for small values, <a href="../modules/pico8lib.math.html#dist_trig">dist_trig</a> for large
 tokens: 46</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#dist_naive">dist_naive (x, y)</a></td>
	<td class="summary">Distance to a point
 Naive distance calculation
 Overflows for dist^2>=32768
 tokens: 15
 cycles: 9 + 28 = 37 (lua+sys)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#dist_trig">dist_trig (x, y)</a></td>
	<td class="summary">Distance to a point
 Uses trigonometry
 Error in range (0,0)-(127,127): max 0.0017, avg 0.0004
 tokens: 23
 cycles: 21 + 0 = 21 (lua+sys)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#dist_squared">dist_squared (x, y)</a></td>
	<td class="summary">Distance squared to a point</td>
	</tr>
</table>
<h2><a href="#Trigonometry">Trigonometry </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#asin_octant">asin_octant (d)</a></td>
	<td class="summary">Arithmetic approximation of arcsin
 Intended for 0&lt;=d&lt;=.7071
 Exact at d==0, d==sin(1/16), d==sin(1/8)
 Max error .0021 at d==sin(3/32) in given range
 asin() is the inverse of sin(); a=asin(d) when d=sin(a)</td>
	</tr>
</table>
<h2><a href="#Interpolation">Interpolation </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#interp_linear">interp_linear (a, b, f)</a></td>
	<td class="summary">Linear interpolation between two values
 <code>(a,b,0) == a</code>
 <code>(a,b,1) == b</code>
 <code>(a,b,0.25)</code> is 1/4 of the way from a to b</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#interp_linear_inverse">interp_linear_inverse (a, b, v)</a></td>
	<td class="summary">Inverse Linear Interpolation
 "How far along the way from a to b is v?"
 <code>(a,b,a) == 0</code>
 <code>(a,b,b) == 1</code>
 <code>(a,b,(a+b)/2) == 0.5</code></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#interp_sine">interp_sine (a, b, f)</a></td>
	<td class="summary">Sine interpolation
 <code>(a,b,0) == a</code>
 <code>(a,b,1) == b</code>
 <code>(a,b,0.5) == </code> 70.71% of the way from a to b</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Local_Functions"></a>Local Functions</h2>

    <dl class="function">
    <dt>
    <a name = "gcd_recursive"></a>
    <strong>gcd_recursive (a, b)</strong>
    </dt>
    <dd>
    Return the greatest common divisor of two numbers
 This implementation uses recursion


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         The first number
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">number</span></span>
         The second number
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        The greatest common divisor, or zero
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/pico8lib.math.html#gcd">gcd</a>
    </ul>


</dd>
    <dt>
    <a name = "gcd"></a>
    <strong>gcd (a, b)</strong>
    </dt>
    <dd>
    Return the greatest common divisor of two numbers
 This implementation is iterative


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         The first number
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">number</span></span>
         The second number
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        The greatest common divisor, or zero
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/pico8lib.math.html#gcd_recursive">gcd_recursive</a>
    </ul>


</dd>
    <dt>
    <a name = "lcm"></a>
    <strong>lcm (a, b)</strong>
    </dt>
    <dd>
    Return the least common multiple of two numbers


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         The first number
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">number</span></span>
         The second number
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        The least common multiple
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Roots"></a>Roots </h2>

    <dl class="function">
    <dt>
    <a name = "nthroot"></a>
    <strong>nthroot (n, x)</strong>
    </dt>
    <dd>
    Calculate the nth root of x
 <code>nthroot(3,8)==2</code> because <code>2^3==8</code>
 All versions start with a guess based on the built in ^ operator
 This version performs newton's method until a convergent result or short loop is found
 Very accurate


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">n</span>



        </li>
        <li><span class="parameter">x</span>
        if (n * x == 0) return x * 0 -- preserves non-number type of x, such as rational or complex class
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nthroot_short"></a>
    <strong>nthroot_short (n, x)</strong>
    </dt>
    <dd>
    Calculate the nth root of x
 This version performs newton's method exactly 4 times
 Relatively accurate


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">n</span>



        </li>
        <li><span class="parameter">x</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "nthroot_fast"></a>
    <strong>nthroot_fast (n, x)</strong>
    </dt>
    <dd>
    Calculate the nth root of x
 This version performs newton's method exactly once, only for positive x
 Least accurate, still much better than built in ^ operator alone


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">n</span>



        </li>
        <li><span class="parameter">x</span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Distance"></a>Distance </h2>

    <dl class="function">
    <dt>
    <a name = "dist"></a>
    <strong>dist (x, y)</strong>
    </dt>
    <dd>
    Distance to a point
 Uses <a href="../modules/pico8lib.math.html#dist_naive">dist_naive</a> for small values, <a href="../modules/pico8lib.math.html#dist_trig">dist_trig</a> for large
 tokens: 46


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">number</span></span>
         X coordinate of the point
        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">number</span></span>
         Y coordinate of the point
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Distance from 0,0 to x,y
    </ol>




</dd>
    <dt>
    <a name = "dist_naive"></a>
    <strong>dist_naive (x, y)</strong>
    </dt>
    <dd>
    Distance to a point
 Naive distance calculation
 Overflows for dist^2>=32768
 tokens: 15
 cycles: 9 + 28 = 37 (lua+sys)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">number</span></span>
         X coordinate of the point
        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">number</span></span>
         Y coordinate of the point
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Distance from 0,0 to x,y
    </ol>




</dd>
    <dt>
    <a name = "dist_trig"></a>
    <strong>dist_trig (x, y)</strong>
    </dt>
    <dd>
    Distance to a point
 Uses trigonometry
 Error in range (0,0)-(127,127): max 0.0017, avg 0.0004
 tokens: 23
 cycles: 21 + 0 = 21 (lua+sys)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">number</span></span>
         X coordinate of the point
        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">number</span></span>
         Y coordinate of the point
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Distance from 0,0 to x,y
    </ol>




</dd>
    <dt>
    <a name = "dist_squared"></a>
    <strong>dist_squared (x, y)</strong>
    </dt>
    <dd>
    Distance squared to a point


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">number</span></span>
         X coordinate of the point
        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">number</span></span>
         Y coordinate of the point
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Distance from 0,0 to x,y
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Trigonometry"></a>Trigonometry </h2>

    <dl class="function">
    <dt>
    <a name = "asin_octant"></a>
    <strong>asin_octant (d)</strong>
    </dt>
    <dd>
    Arithmetic approximation of arcsin
 Intended for 0&lt;=d&lt;=.7071
 Exact at d==0, d==sin(1/16), d==sin(1/8)
 Max error .0021 at d==sin(3/32) in given range
 asin() is the inverse of sin(); a=asin(d) when d=sin(a)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">d</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        arcsin of d
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Interpolation"></a>Interpolation </h2>

    <dl class="function">
    <dt>
    <a name = "interp_linear"></a>
    <strong>interp_linear (a, b, f)</strong>
    </dt>
    <dd>
    Linear interpolation between two values
 <code>(a,b,0) == a</code>
 <code>(a,b,1) == b</code>
 <code>(a,b,0.25)</code> is 1/4 of the way from a to b


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         Starting value
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">number</span></span>
         Ending value
        </li>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">number</span></span>
         [0-1] from a to b
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        value between a and b
    </ol>




</dd>
    <dt>
    <a name = "interp_linear_inverse"></a>
    <strong>interp_linear_inverse (a, b, v)</strong>
    </dt>
    <dd>
    Inverse Linear Interpolation
 "How far along the way from a to b is v?"
 <code>(a,b,a) == 0</code>
 <code>(a,b,b) == 1</code>
 <code>(a,b,(a+b)/2) == 0.5</code>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         Starting value
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">number</span></span>
         Ending value
        </li>
        <li><span class="parameter">v</span>
            <span class="types"><span class="type">number</span></span>
         Value between a and b, inclusive
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        [0-1] from a to b
    </ol>




</dd>
    <dt>
    <a name = "interp_sine"></a>
    <strong>interp_sine (a, b, f)</strong>
    </dt>
    <dd>
    Sine interpolation
 <code>(a,b,0) == a</code>
 <code>(a,b,1) == b</code>
 <code>(a,b,0.5) == </code> 70.71% of the way from a to b


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         Starting value
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">number</span></span>
         Ending value
        </li>
        <li><span class="parameter">f</span>
            <span class="types"><span class="type">number</span></span>
         [0-1] from a to b
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        value between a and b
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-09-08 14:09:48 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
